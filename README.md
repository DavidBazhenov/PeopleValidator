# Система обнаружения людей на изображениях

Сервис, который анализирует загруженные изображения на наличие людей и отправляет результаты в Telegram бот.

## Функциональность

- REST API для загрузки изображений
- Автоматическое обнаружение людей на изображениях
- Выделение найденных людей на фото
- Отправка результатов в Telegram
- Защита API ключом

## Требования

- Docker и Docker Compose
- Telegram бот и его токен
- ID чата для отправки сообщений

## Установка и запуск

1. Клонируйте репозиторий:

   ```
   git clone <repository-url>
   cd <repository-directory>
   ```

2. Создайте файл `.env` на основе `.env.example`:

   ```
   cp .env.example .env
   ```

3. Отредактируйте файл `.env`, указав:

   - `TELEGRAM_BOT_TOKEN` - токен вашего Telegram бота
   - `TELEGRAM_CHAT_ID` - ID чата для отправки сообщений
   - `API_KEY` - ключ для защиты API

4. Запустите проект с Docker Compose:

   ```
   docker-compose up -d
   ```

5. Сервис будет доступен по адресу: `http://localhost:8000`

## API Endpoints

### GET /

Проверка работоспособности сервиса.

### POST /api/detect-person

Загрузка и анализ изображения.

Параметры:

- `file`: Загружаемый файл изображения (form-data)
- `api_key`: API ключ (header)

Пример запроса с curl:

```
curl -X POST http://localhost:8000/api/detect-person \
  -H "api_key: your-api-key-here" \
  -F "file=@/path/to/your/image.jpg"
```

## Дополнительная информация

- Для распознавания людей используется HOG детектор из OpenCV
- Система оптимизирована для работы с изображениями разных размеров
- Результаты анализа отправляются в Telegram асинхронно
